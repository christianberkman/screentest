<html>
  <head>
    <style>
      body{
        width: 100%; height: 100%;
        margin: 0; padding: 0;
        overflow: hidden, hidden;
        background: #f00;
        cursor: none;
      }
    </style>
  </head>

  <body>
  </body>

  <script>
    /**
     * colorArray
     */
    const colorArray = ['#f00', '#0f0', '#00f', '#fff', '#000', 'cyan', 'magenta', 'yellow']
    var colorCurrentIndex = 0;
    var colorMaxIndex = colorArray.length - 1;

    /**
     * Body element
     */
    const bodyElement = document.querySelector('body')

    /**
     * Autoplay
     */
    var autoPlay = false
    var autoPlayID


    /**
     * Key events
     */
    document.body.onkeyup = function(e){
      // console.log(e.code)
      switch(e.code){
        case 'Space':
          setColorIndex(nextColor())
          setBodyBackground()
        break;

        case 'KeyR':
          setColorIndex(0) // red
          setBodyBackground()
        break

        case 'KeyG':
          setColorIndex(1) // green
          setBodyBackground()
        break

        case 'KeyB':
          setColorIndex(2) // blue
          setBodyBackground()
        break

        case 'KeyW':
          setColorIndex(3) // white
          setBodyBackground()
        break

        case 'KeyX':
        case 'KeyK':
          setColorIndex(4) // black
          setBodyBackground()
        break

        case 'KeyC':
          setColorIndex(5) // cyan
          setBodyBackground()
        break

        case 'KeyM':
          setColorIndex(6) // magenta
          setBodyBackground()
        break

        case 'KeyY':
          setColorIndex(7) // yellow
          setBodyBackground()
        break


        case 'Enter':
          if(autoPlay == false) { startAutoPlay(); break }
          if(autoPlay == true) stopAutoPlay()
        break
      }

    }

    /**
     * Set color of the body element
     */
    function setBodyBackground(){
      bodyElement.style.background = colorArray[colorCurrentIndex]
      // console.log('Body element background set to ' + colorArray[colorCurrentIndex])
    }

    /**
     * Set the next color
     * string color
     */
     function setColorIndex(newIndex){
       if(newIndex < 0) return false;
       if(newIndex > colorMaxIndex) return false;

       colorCurrentIndex = newIndex;
       return true;
     }

    /**
     * Return the index of the next color, wrap around the colorArray array
     * string color
     */
     function nextColor(){
       if(colorCurrentIndex == colorMaxIndex) return 0;
       else return colorCurrentIndex + 1
     }

     /**
      * Start autoplay function
      */
      function startAutoPlay(){

        autoPlayID = setInterval(() => {
          setColorIndex(nextColor())
          setBodyBackground()
        }, 2500)

        autoPlay = true
        console.log('Autoplay started')
      }

      function stopAutoPlay(){
        clearInterval(autoPlayID)
        autoPlayID = null
        autoPlay = false
        console.log('Autoplay stopped')
      }



  </script>

</html>
